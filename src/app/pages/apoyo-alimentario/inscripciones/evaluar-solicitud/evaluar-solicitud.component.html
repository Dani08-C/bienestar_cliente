<nb-card *ngIf="solicitud==null && !nueva">
    <div class="text-center pt-2">
        <div class="menu-header">
            <h1>
                No se encontro la solicitud
            </h1>
            <button class="btn back-button btn-block" routerLink="../">
                <i class="fa fa-arrow-left" aria-hidden="true"></i>
                Regresar
            </button>
        </div>
    </div>
</nb-card>
<nb-card *ngIf="solicitud!=null || nueva">
    <nb-card-header>
        <div class="text-center pt-2">
            <div class="menu-header">
                <h1 *ngIf="!nueva">
                    Solicitud apoyo alimentario No. {{ idSolicitud }}
                </h1>
                <h1 *ngIf="nueva && periodo!=null">
                    Nueva solicitud apoyo alimentario periodo {{ periodo?.Nombre }}
                </h1>
                <button class="btn back-button btn-block" routerLink="../">
                    <i class="fa fa-arrow-left" aria-hidden="true"></i>
                    Regresar
                </button>

            </div>
        </div>
    </nb-card-header>
    <hr>
    <nb-card-body>
        <nb-accordion>
            <!-- Informacion solicitante -->
            <nb-accordion-item expanded>
                <nb-accordion-item-header>
                    <h4 class="non-selectable">Información solicitante</h4>
                </nb-accordion-item-header>

                <nb-accordion-item-body *ngIf="tercero==null">
                    <p>Documento del solicitante</p>
                    <input #documentoNew fullWidth nbInput value={{solicitante?.Id}}>
                    <br>
                    <button class="btn btn-success" (click)="cargarSolicitante(documentoNew.value)">Cargar
                        solicitante</button>
                </nb-accordion-item-body>

                <nb-accordion-item-body *ngIf="tercero!=null">
                    <!-- <input [disabled]="!nueva" fullWidth nbInput value={{solicitante?.Id}}> -->
                    <div class="menu-list">
                        <div class="item ">
                            <label class="sub-item label-color-ud">
                                ID :
                            </label>
                            <label class="sub-item ">
                                {{tercero?.Id}}
                            </label>
                            <!-- <input ng-readonly="!nueva" fullWidth nbInput value={{solicitud?.Id}}> -->
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Nombres:
                            </label>
                            <label class="sub-item">
                                {{tercero?.PrimerNombre}} {{tercero?.SegundoNombre}}
                            </label>
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Apellidos :
                            </label>
                            <label class="sub-item">
                                {{tercero?.PrimerApellido}} {{tercero?.SegundoApellido}}
                            </label>
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Fecha de Nacimiento :
                            </label>
                            <label class="sub-item">
                                {{tercero?.FechaNacimiento}}
                            </label>
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Activo:
                            </label>
                            <label class="sub-item">
                                <!-- {{tercero?.Activo}} -->
                                <span *ngIf="tercero?.Activo" class="badge rounded-pill bg-success">Activo</span>
                                <span *ngIf="!tercero?.Activo" class="badge rounded-pill bg-danger">Inactivo</span>
                            </label>
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Usuario App:
                            </label>
                            <label class="sub-item">
                                {{tercero?.UsuarioWSO2}}
                            </label>
                        </div>
                    </div>
                </nb-accordion-item-body>
            </nb-accordion-item>

            <!-- Informacion solicitud -->
            <nb-accordion-item *ngIf="solicitud!=null">
                <nb-accordion-item-header>
                    <h4 class="non-selectable">Información solicitud</h4>
                </nb-accordion-item-header>
                <nb-accordion-item-body>
                    <div class="menu-list">
                        <div class="item ">
                            <!-- form-group  -->
                            <label class="sub-item label-color-ud">
                                ID :
                            </label>
                            <label ng-readonly="!nueva" class="sub-item ">
                                {{solicitud?.Id}}
                            </label>
                            <!-- <input ng-readonly="!nueva" fullWidth nbInput value={{solicitud?.Id}}> -->
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Fecha Radicación :
                            </label>
                            <label class="sub-item">
                                {{solicitud?.FechaRadicacion}}
                            </label>
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Fecha Creación :
                            </label>
                            <label class="sub-item">
                                {{solicitud?.FechaCreacion}}
                            </label>
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Fecha Modificación :
                            </label>
                            <label class="sub-item">
                                {{solicitud?.FechaModificacion}}
                            </label>
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Solicitud Finalizada :
                            </label>
                            <label class="sub-item">
                                {{solicitud?.SolicitudFinalizada}}
                            </label>
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Referencia :
                            </label>
                            <label class="sub-item">
                                {{solicitud?.Referencia}}
                            </label>
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Tipo Solicitud :
                            </label>
                            <label class="sub-item">
                                {{solicitud?.EstadoTipoSolicitudId.EstadoId.Nombre}}
                            </label>
                        </div>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Estado :
                            </label>
                            <label class="sub-item">
                                <!-- {{solicitud?.Activo}} -->
                                <span *ngIf="solicitud?.Activo" class="badge rounded-pill bg-success">Activo</span>
                                <span *ngIf="!solicitud?.Activo" class="badge rounded-pill bg-danger">Inactivo</span>
                            </label>
                        </div>
                    </div>
                </nb-accordion-item-body>
            </nb-accordion-item>

            <!-- Estado de la solicitud -->
            <nb-accordion-item *ngIf="solicitud!=null">
                <nb-accordion-item-header>
                    <h4 class="non-selectable">Estado solicitud</h4>
                </nb-accordion-item-header>
                <nb-accordion-item-body>
                    <div class="menu-list">
                        <div class="item ">
                            <!-- form-group  -->
                            <label class="sub-item label-color-ud">
                                Estado actual :
                            </label>
                            <label ng-readonly="!nueva" class="sub-item ">
                                {{solicitud?.EstadoTipoSolicitudId.EstadoId.Nombre}}
                            </label>
                            <!-- <input ng-readonly="!nueva" fullWidth nbInput value={{solicitud?.Id}}> -->
                        </div>
                        <hr>
                        <h5>Cambiar estado</h5>
                        <div class="item">
                            <label class="sub-item label-color-ud">
                                Nuevo estado :
                            </label>
                            <select matNativeControl [(ngModel)]="nuevoEstado">
                                <option *ngFor="let estadoTipo of estadosTipoSolicitud;let i = index;" [ngValue]="i">
                                    {{estadoTipo.EstadoId.Nombre }}</option>
                            </select>

                        </div>
                        <div *ngIf="nuevoEstado!=null" class="item">
                            <label class="sub-item label-color-ud">
                                Observacion:
                            </label>
                            <textarea [(ngModel)]="obseravcionText" nbinput="" fullwidth="" placeholder="Observacion"
                                class="input-full-width size-medium status-basic shape-rectangle nb-transition"
                                style="margin-top: 0px; margin-bottom: 0px; height: 60px;"></textarea>

                        </div>
                    </div>
                </nb-accordion-item-body>
                <hr>
            </nb-accordion-item>

        </nb-accordion>
<hr>
        <div class="form-group">
            <button nbButton fullWidth hero shape="semi-round" status="warning" (click)="save()" class="submit-button">
                <i class="fas fa-save mr-1"></i>
                Guardar cambios
            </button>
        </div>
    </nb-card-body>
</nb-card>

<div *ngIf="solicitud==null && !nueva" class="alert alert-warning text-center mt-3">
    <h3 class="alert-heading">No se encuentra la solicitud {{idSolicitud}}</h3>
    <p>
        <i class="fa fa-exclamation fa-2x    "></i>
    </p>
</div>